{
  "id": "9dce8a4e-c72a-4a19-861e-b73c9a41477b",
  "prevId": "019b2a96-aab8-47b9-9c83-df4484a87a4c",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.abc_auto_calculation_config": {
      "name": "abc_auto_calculation_config",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "frequency_days": {
          "name": "frequency_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 30
        },
        "last_calculation": {
          "name": "last_calculation",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "next_calculation": {
          "name": "next_calculation",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.abc_calculation_log": {
      "name": "abc_calculation_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "products_analyzed": {
          "name": "products_analyzed",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "class_a_count": {
          "name": "class_a_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "class_b_count": {
          "name": "class_b_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "class_c_count": {
          "name": "class_c_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "class_d_count": {
          "name": "class_d_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "total_revenue": {
          "name": "total_revenue",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "analysis_months": {
          "name": "analysis_months",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "calculated_at": {
          "name": "calculated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "abc_calculation_log_calculated_at_idx": {
          "name": "abc_calculation_log_calculated_at_idx",
          "columns": [
            {
              "expression": "calculated_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.abc_config": {
      "name": "abc_config",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "class_a_percentage": {
          "name": "class_a_percentage",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 8000
        },
        "class_b_percentage": {
          "name": "class_b_percentage",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1500
        },
        "class_c_percentage": {
          "name": "class_c_percentage",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 500
        },
        "analysis_months": {
          "name": "analysis_months",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 12
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.abc_history": {
      "name": "abc_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "product_id": {
          "name": "product_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "previous_class": {
          "name": "previous_class",
          "type": "abc_class",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "new_class": {
          "name": "new_class",
          "type": "abc_class",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "revenue": {
          "name": "revenue",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "percentage": {
          "name": "percentage",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "calculated_at": {
          "name": "calculated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "abc_history_product_id_idx": {
          "name": "abc_history_product_id_idx",
          "columns": [
            {
              "expression": "product_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "abc_history_calculated_at_idx": {
          "name": "abc_history_calculated_at_idx",
          "columns": [
            {
              "expression": "calculated_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.alerts": {
      "name": "alerts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "productId": {
          "name": "productId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "alertType": {
          "name": "alertType",
          "type": "alert_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "severity",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "isRead": {
          "name": "isRead",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "isResolved": {
          "name": "isResolved",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "resolvedAt": {
          "name": "resolvedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "resolvedBy": {
          "name": "resolvedBy",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "alerts_product_id_idx": {
          "name": "alerts_product_id_idx",
          "columns": [
            {
              "expression": "productId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "alerts_is_resolved_idx": {
          "name": "alerts_is_resolved_idx",
          "columns": [
            {
              "expression": "isResolved",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.api_usage_log": {
      "name": "api_usage_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "endpoint": {
          "name": "endpoint",
          "type": "varchar(2000)",
          "primaryKey": false,
          "notNull": true
        },
        "method": {
          "name": "method",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true,
          "default": "'GET'"
        },
        "status_code": {
          "name": "status_code",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "response_time": {
          "name": "response_time",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_rate_limit_error": {
          "name": "is_rate_limit_error",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "retry_attempt": {
          "name": "retry_attempt",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "circuit_breaker_active": {
          "name": "circuit_breaker_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "sync_history_id": {
          "name": "sync_history_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "api_usage_log_timestamp_idx": {
          "name": "api_usage_log_timestamp_idx",
          "columns": [
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.bling_config": {
      "name": "bling_config",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "userId": {
          "name": "userId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "clientId": {
          "name": "clientId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "clientSecret": {
          "name": "clientSecret",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "accessToken": {
          "name": "accessToken",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "refreshToken": {
          "name": "refreshToken",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tokenExpiresAt": {
          "name": "tokenExpiresAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "isActive": {
          "name": "isActive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "lastSync": {
          "name": "lastSync",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "lastNotificationSent": {
          "name": "lastNotificationSent",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.count_schedule": {
      "name": "count_schedule",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "productId": {
          "name": "productId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "frequency": {
          "name": "frequency",
          "type": "frequency",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "nextCountDate": {
          "name": "nextCountDate",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "lastCountDate": {
          "name": "lastCountDate",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "isActive": {
          "name": "isActive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "count_schedule_product_id_idx": {
          "name": "count_schedule_product_id_idx",
          "columns": [
            {
              "expression": "productId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "count_schedule_next_count_date_idx": {
          "name": "count_schedule_next_count_date_idx",
          "columns": [
            {
              "expression": "nextCountDate",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.inventory": {
      "name": "inventory",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "productId": {
          "name": "productId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "depositId": {
          "name": "depositId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "depositName": {
          "name": "depositName",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "virtualStock": {
          "name": "virtualStock",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "physicalStock": {
          "name": "physicalStock",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "reservedStock": {
          "name": "reservedStock",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "lastPhysicalCount": {
          "name": "lastPhysicalCount",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "lastVirtualSync": {
          "name": "lastVirtualSync",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "inventory_product_id_idx": {
          "name": "inventory_product_id_idx",
          "columns": [
            {
              "expression": "productId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.inventory_counts": {
      "name": "inventory_counts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "productId": {
          "name": "productId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "userId": {
          "name": "userId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "expectedQty": {
          "name": "expectedQty",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "countedQty": {
          "name": "countedQty",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "variance": {
          "name": "variance",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "countType": {
          "name": "countType",
          "type": "count_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "countDate": {
          "name": "countDate",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "inventory_counts_product_id_idx": {
          "name": "inventory_counts_product_id_idx",
          "columns": [
            {
              "expression": "productId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "inventory_counts_count_date_idx": {
          "name": "inventory_counts_count_date_idx",
          "columns": [
            {
              "expression": "countDate",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.orders": {
      "name": "orders",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "blingId": {
          "name": "blingId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "orderNumber": {
          "name": "orderNumber",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "customerName": {
          "name": "customerName",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "customerDocument": {
          "name": "customerDocument",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "statusId": {
          "name": "statusId",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "totalAmount": {
          "name": "totalAmount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "itemsCount": {
          "name": "itemsCount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "orderDate": {
          "name": "orderDate",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "orders_bling_id_idx": {
          "name": "orders_bling_id_idx",
          "columns": [
            {
              "expression": "blingId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "orders_order_date_idx": {
          "name": "orders_order_date_idx",
          "columns": [
            {
              "expression": "orderDate",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "orders_blingId_unique": {
          "name": "orders_blingId_unique",
          "nullsNotDistinct": false,
          "columns": [
            "blingId"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.product_suppliers": {
      "name": "product_suppliers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "blingId": {
          "name": "blingId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "productId": {
          "name": "productId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "blingProductId": {
          "name": "blingProductId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "supplierId": {
          "name": "supplierId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "supplierName": {
          "name": "supplierName",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "code": {
          "name": "code",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "costPrice": {
          "name": "costPrice",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "purchasePrice": {
          "name": "purchasePrice",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "isDefault": {
          "name": "isDefault",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "warranty": {
          "name": "warranty",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "leadTimeDays": {
          "name": "leadTimeDays",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "product_suppliers_bling_id_idx": {
          "name": "product_suppliers_bling_id_idx",
          "columns": [
            {
              "expression": "blingId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "product_suppliers_product_id_idx": {
          "name": "product_suppliers_product_id_idx",
          "columns": [
            {
              "expression": "productId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "product_suppliers_blingId_unique": {
          "name": "product_suppliers_blingId_unique",
          "nullsNotDistinct": false,
          "columns": [
            "blingId"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.products": {
      "name": "products",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "blingId": {
          "name": "blingId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "price": {
          "name": "price",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "cost": {
          "name": "cost",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "unit": {
          "name": "unit",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "abcClass": {
          "name": "abcClass",
          "type": "abc_class",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "abcRevenue": {
          "name": "abcRevenue",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "abcPercentage": {
          "name": "abcPercentage",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "abcLastCalculated": {
          "name": "abcLastCalculated",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "abcClassManual": {
          "name": "abcClassManual",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "shouldStock": {
          "name": "shouldStock",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "minStock": {
          "name": "minStock",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "maxStock": {
          "name": "maxStock",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "reorderPoint": {
          "name": "reorderPoint",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "safetyStock": {
          "name": "safetyStock",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "avgSales12Months": {
          "name": "avgSales12Months",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "suggestedOrderQty": {
          "name": "suggestedOrderQty",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "lastSaleDate": {
          "name": "lastSaleDate",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "isNew": {
          "name": "isNew",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "isActive": {
          "name": "isActive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "products_bling_id_idx": {
          "name": "products_bling_id_idx",
          "columns": [
            {
              "expression": "blingId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "products_abc_class_idx": {
          "name": "products_abc_class_idx",
          "columns": [
            {
              "expression": "abcClass",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "products_is_active_idx": {
          "name": "products_is_active_idx",
          "columns": [
            {
              "expression": "isActive",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "products_blingId_unique": {
          "name": "products_blingId_unique",
          "nullsNotDistinct": false,
          "columns": [
            "blingId"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sales": {
      "name": "sales",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "blingOrderId": {
          "name": "blingOrderId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "productId": {
          "name": "productId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "quantity": {
          "name": "quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "unitPrice": {
          "name": "unitPrice",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "totalPrice": {
          "name": "totalPrice",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "orderStatus": {
          "name": "orderStatus",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "saleDate": {
          "name": "saleDate",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "sales_product_id_idx": {
          "name": "sales_product_id_idx",
          "columns": [
            {
              "expression": "productId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sales_sale_date_idx": {
          "name": "sales_sale_date_idx",
          "columns": [
            {
              "expression": "saleDate",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sales_bling_order_id_idx": {
          "name": "sales_bling_order_id_idx",
          "columns": [
            {
              "expression": "blingOrderId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sync_config": {
      "name": "sync_config",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "auto_sync_enabled": {
          "name": "auto_sync_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "sync_frequency_hours": {
          "name": "sync_frequency_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 24
        },
        "last_auto_sync": {
          "name": "last_auto_sync",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "next_auto_sync": {
          "name": "next_auto_sync",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sync_history": {
      "name": "sync_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "sync_type": {
          "name": "sync_type",
          "type": "sync_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "sync_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "items_synced": {
          "name": "items_synced",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "items_errors": {
          "name": "items_errors",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "triggered_by": {
          "name": "triggered_by",
          "type": "triggered_by",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "max_retries": {
          "name": "max_retries",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 3
        },
        "next_retry_at": {
          "name": "next_retry_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "sync_history_started_at_idx": {
          "name": "sync_history_started_at_idx",
          "columns": [
            {
              "expression": "started_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sync_history_status_idx": {
          "name": "sync_history_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "openId": {
          "name": "openId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": true
        },
        "passwordHash": {
          "name": "passwordHash",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "loginMethod": {
          "name": "loginMethod",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "permissions": {
          "name": "permissions",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'user'"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "lastSignedIn": {
          "name": "lastSignedIn",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_openId_unique": {
          "name": "users_openId_unique",
          "nullsNotDistinct": false,
          "columns": [
            "openId"
          ]
        },
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.valid_order_statuses": {
      "name": "valid_order_statuses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "userId": {
          "name": "userId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "statusId": {
          "name": "statusId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "statusName": {
          "name": "statusName",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "isActive": {
          "name": "isActive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.webhook_events": {
      "name": "webhook_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "event_id": {
          "name": "event_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "resource": {
          "name": "resource",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "company_id": {
          "name": "company_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true,
          "default": "'v1'"
        },
        "payload": {
          "name": "payload",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "processed": {
          "name": "processed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "received_at": {
          "name": "received_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "webhook_events_event_id_idx": {
          "name": "webhook_events_event_id_idx",
          "columns": [
            {
              "expression": "event_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "webhook_events_resource_action_idx": {
          "name": "webhook_events_resource_action_idx",
          "columns": [
            {
              "expression": "resource",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "action",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "webhook_events_received_at_idx": {
          "name": "webhook_events_received_at_idx",
          "columns": [
            {
              "expression": "received_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "webhook_events_event_id_unique": {
          "name": "webhook_events_event_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "event_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.abc_class": {
      "name": "abc_class",
      "schema": "public",
      "values": [
        "A",
        "B",
        "C",
        "D"
      ]
    },
    "public.alert_type": {
      "name": "alert_type",
      "schema": "public",
      "values": [
        "low_stock",
        "reorder_needed",
        "excess_stock",
        "inventory_variance",
        "negative_stock",
        "recount_needed"
      ]
    },
    "public.count_type": {
      "name": "count_type",
      "schema": "public",
      "values": [
        "scheduled",
        "alert",
        "manual"
      ]
    },
    "public.frequency": {
      "name": "frequency",
      "schema": "public",
      "values": [
        "weekly",
        "biweekly",
        "monthly",
        "quarterly",
        "biannual",
        "annual"
      ]
    },
    "public.role": {
      "name": "role",
      "schema": "public",
      "values": [
        "user",
        "admin"
      ]
    },
    "public.severity": {
      "name": "severity",
      "schema": "public",
      "values": [
        "low",
        "medium",
        "high",
        "critical"
      ]
    },
    "public.sync_status": {
      "name": "sync_status",
      "schema": "public",
      "values": [
        "running",
        "completed",
        "failed",
        "queued",
        "retrying"
      ]
    },
    "public.sync_type": {
      "name": "sync_type",
      "schema": "public",
      "values": [
        "products",
        "inventory",
        "sales",
        "suppliers",
        "full"
      ]
    },
    "public.triggered_by": {
      "name": "triggered_by",
      "schema": "public",
      "values": [
        "manual",
        "scheduled",
        "webhook"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}